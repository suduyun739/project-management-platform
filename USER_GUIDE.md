# 用户使用指南

## 目录

- [登录系统](#登录系统)
- [项目管理](#项目管理)
- [需求管理](#需求管理)
- [任务管理](#任务管理)
- [看板视图](#看板视图)
- [数据统计](#数据统计)
- [用户管理](#用户管理)

## 登录系统

### 首次登录

默认管理员账号：
- 用户名：`admin`
- 密码：`admin123`

**重要提示**：首次登录后请立即修改密码！

### 修改密码

1. 点击右上角用户名
2. 选择"用户管理"
3. 点击"修改密码"按钮

## 项目管理

### 查看项目列表

所有用户都可以查看所有项目，但只有管理员可以编辑。

### 创建项目（管理员专属）

1. 进入"项目"页面
2. 点击"新建项目"按钮
3. 填写项目信息：
   - 项目名称（必填）
   - 项目描述
   - 项目状态：规划中、进行中、已完成、已暂停
   - 优先级：低、中、高、紧急
   - 开始日期和结束日期

### 项目筛选

- **搜索**：按项目名称搜索
- **状态筛选**：筛选特定状态的项目
- **优先级筛选**：筛选特定优先级的项目

### 项目排序（管理员专属）

- **置顶**：将项目置于列表顶部
- **上移/下移**：调整项目在列表中的位置

### 项目时间管理（管理员专属）

可以直接在列表中点击日期进行修改：
- 开始日期
- 结束日期

## 需求管理

### 查看需求

- **管理员**：可以查看所有需求
- **普通用户**：只能查看自己负责的需求

### 创建需求

1. 在项目列表中，点击项目后的"新建需求"按钮
2. 填写需求信息：
   - 需求标题（必填）
   - 需求描述
   - 状态：待处理、进行中、已完成、已取消
   - 优先级：低、中、高、紧急
   - 负责人（可多选）
   - 预估工时（默认1天）

**注意**：普通用户创建需求时，系统会自动将自己添加为负责人。

### 创建子需求

1. 点击父需求后的"新建子需求"按钮
2. 填写子需求信息（同创建需求）

### 编辑需求

- **管理员**：可以编辑所有需求
- **普通用户**：只能编辑自己负责的需求

### 行内编辑

可以直接在列表中修改：
- 需求状态
- 优先级
- 预估工时

### 删除需求（管理员专属）

点击需求后的"删除"按钮。

## 任务管理

### 查看任务

- **管理员**：可以查看所有任务
- **普通用户**：只能查看自己负责的任务

### 创建任务

1. 进入"任务"页面
2. 选择项目和需求
3. 点击"新建任务"按钮
4. 填写任务信息：
   - 任务标题（必填）
   - 任务描述
   - 状态：待办、进行中、测试中、已完成、已阻塞
   - 优先级：低、中、高、紧急
   - 负责人（可多选）
   - 预估工时（默认1天）
   - 开始日期和截止日期

**注意**：普通用户创建任务时，系统会自动将自己添加为负责人。

### 创建子任务

1. 点击父任务后的"新建子任务"按钮
2. 填写子任务信息

### 筛选任务

- **项目筛选**：按项目筛选任务
- **需求筛选**：按需求筛选任务
- **状态筛选**：按任务状态筛选
- **优先级筛选**：按优先级筛选
- **负责人筛选**：按负责人筛选

### 展开/折叠

使用页面左上角的"展开/折叠"开关，可以一键展开或折叠所有任务树。

### 删除任务（管理员专属）

点击任务后的"删除"按钮。

## 看板视图

### 查看看板

进入"看板"页面，任务按状态分组显示：
- 待办（TODO）
- 进行中（IN_PROGRESS）
- 测试中（TESTING）
- 已完成（DONE）
- 已阻塞（BLOCKED）

### 看板筛选

- **项目筛选**：查看特定项目的任务看板
- **负责人筛选**：查看特定负责人的任务看板

### 拖拽移动

可以通过拖拽任务卡片，在不同状态列之间移动任务。

## 数据统计

### 管理员视图

- 选择项目查看该项目的统计数据
- 查看需求和任务的分布情况
- 查看工时统计

统计内容：
- 需求状态分布
- 任务状态分布
- 优先级分布
- 总预估工时

### 普通用户视图

只能查看"我的工作统计"，包括：
- 我负责的需求统计
- 我负责的任务统计
- 我的工时统计

## 用户管理

### 管理员功能

1. **查看所有用户**：查看系统中所有用户信息
2. **创建用户**：
   - 点击"新建用户"
   - 填写用户名、密码、姓名
   - 选择角色（管理员/成员）
3. **编辑用户**：修改用户姓名和角色
4. **重置密码**：为用户重置密码
5. **删除用户**：删除用户（不能删除自己）

### 普通用户功能

只能查看和管理自己的信息：
- 查看个人资料
- 修改密码

## 权限说明

### 管理员权限

- ✅ 查看所有项目、需求、任务
- ✅ 创建、编辑、删除项目
- ✅ 创建、编辑、删除需求
- ✅ 创建、编辑、删除任务
- ✅ 管理所有用户
- ✅ 查看全局统计数据
- ✅ 项目排序功能

### 普通用户权限

- ✅ 查看所有项目（只读）
- ✅ 查看自己负责的需求
- ✅ 创建需求（自动成为负责人）
- ✅ 编辑自己负责的需求
- ✅ 查看自己负责的任务
- ✅ 创建任务（自动成为负责人）
- ✅ 编辑自己负责的任务
- ✅ 查看个人统计数据
- ❌ 不能删除任何内容
- ❌ 不能编辑项目
- ❌ 不能管理其他用户

## 多负责人机制

- 需求和任务支持多个负责人
- 所有负责人平等，没有主次之分
- 负责人可以修改需求/任务的所有内容
- 普通用户创建需求/任务时，会自动成为负责人之一

## 快捷操作

### 行内编辑

在列表视图中，可以直接点击以下字段进行快速修改：
- 项目/需求/任务状态
- 优先级
- 预估工时
- 时间字段

### 树形结构

- 项目 → 需求 → 子需求
- 需求 → 任务 → 子任务
- 使用展开/折叠按钮控制显示层级

### 搜索功能

- 支持按名称/标题模糊搜索
- 搜索后自动展开匹配项
- 支持组合筛选

## 常见问题

### 为什么看不到某些需求/任务？

普通用户只能看到自己作为负责人的需求和任务。如需查看其他内容，请联系管理员将您添加为负责人。

### 如何更改负责人？

编辑需求或任务时，可以在负责人字段添加或移除负责人。

### 误删除了数据怎么办？

请联系系统管理员，通过数据库备份恢复。建议管理员定期备份数据库。

### 如何批量操作？

目前不支持批量操作，需要逐个处理。

## 技术支持

如有问题，请联系系统管理员或提交 Issue 到项目仓库。
